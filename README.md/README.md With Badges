# ğŸŒ Merkato Marketplace

Welcome to Merkato â€“ A modern B2B and D2C commerce platform.

![ğŸ§ª Backend Tests](https://github.com/asetolessa711/merkato/actions/workflows/backend-tests.yml/badge.svg)
![ğŸ¯ Frontend Tests](https://github.com/asetolessa711/merkato/actions/workflows/frontend-tests.yml/badge.svg)
![âœ¨ E2E Cypress Tests](https://github.com/asetolessa711/merkato/actions/workflows/e2e-cypress.yml/badge.svg)

---

## ğŸ“¦ Features

- ğŸ›ï¸ Product management  
- ğŸ‘¤ Customer & vendor dashboards  
- ğŸ“ˆ Sales analytics  
- ğŸ§¾ Stripe payments  
- ğŸ”’ Role-based access  
- ğŸŒ Multilingual support  
- âœ… Automated testing (Jest, Cypress, GitHub Actions)  
- ğŸ“š MongoDB with Mongoose models  
- ğŸ“¤ Email invoices via Nodemailer  
- ğŸ§¾ PDF receipts & CSV exports  

---

## ğŸ“¸ Demo

![Merkato Homepage](docs/merkato-homepage.png)

> Merkato connects suppliers and buyers worldwide, delivering an AI-enhanced, scalable marketplace with multi-language support, dynamic monetization, and localized user experiences.

_Add more screenshots or GIFs in the `docs/` folder as your project grows!_

---

## ğŸ“‚ Folder Structure

```
merkato/
  frontend/
  backend/
  .github/
  docs/
  .env.example
  README.md
  ...
```

---

## ğŸš€ Getting Started

### 1. Clone and Install

```bash
git clone https://github.com/asetolessa711/merkato.git
cd merkato
npm install
cd frontend && npm install
cd ../backend && npm install
```

### 2. Environment Variables

Copy `.env.example` to `.env`, `.env.test`, and `.env.local` as needed.  
Fill in your secrets:

```env
MONGO_URI=mongodb://localhost:27017/merkato
JWT_SECRET=your_jwt_secret
STRIPE_SECRET_KEY=sk_test_xxx
STRIPE_PUBLISHABLE_KEY=pk_test_xxx
STRIPE_WEBHOOK_SECRET=whsec_xxx
```

> **Tip:** Never commit real secrets or credentials. Your `.gitignore` already protects `.env*` files.

### 3. Run in Dev Mode

```bash
# In one terminal
cd backend
npm run dev

# In another terminal
cd frontend
npm run dev
```

---

## ğŸ§ª Testing

### âœ… Backend Tests (Jest)
```bash
cd backend
npm run test
```

### âœ… Frontend Tests (React Testing Library)
```bash
cd frontend
npm test
```

### âœ… E2E Tests (Cypress)
```bash
cd frontend
npx cypress open  # or `npx cypress run`
```

**Seeding:**
```bash
cd backend
npm run seed:test
```

> See [`docs/testing-system.md`](docs/testing-system.md) for full test architecture & coverage.

---

## ğŸ” CI/CD (GitHub Actions)

Automated test pipelines:

- **ğŸ§ª Backend Tests** â†’ `backend-tests.yml`
- **ğŸ¯ Frontend Tests** â†’ `frontend-tests.yml`
- **âœ¨ E2E Cypress Tests** â†’ `e2e-cypress.yml`

**Features:**

- DB seeding with `cy.task('db:seed')`
- Parallel Cypress execution
- Screenshots/videos uploaded as artifacts
- Artifact retention for 7 days
- Runs on all pushes and pull requests to `main` or `dev` branches

> ğŸ’¡ **Tip:** These workflows ensure all tests pass before merging â€” badges above reflect real-time status.

---

## ğŸ“„ Documentation

- See [`docs/testing-system.md`](docs/testing-system.md) for full test architecture & coverage.
- Use the `docs/` folder for additional architecture, API, and usage docs.

---

## ğŸ¤ Contributing

Pull requests are welcome!  
Please lint and test before submitting.  
For major changes, open an issue first to discuss what youâ€™d like to change.

---

## ğŸ›¡ï¸ License

MIT

---

## ğŸ’¡ Best Practices

- **Commit early, commit often:** Use branches for features and bugfixes.
- **Keep secrets out of version control:** Your `.gitignore` is set up for this.
- **Write and maintain tests:** All new features should include tests.
- **Document your code and APIs:** Use the `docs/` folder for architecture, API, and usage docs.
- **Use CI/CD:** Let GitHub Actions run your tests on every push and PR.

---

### ğŸš€ Run All Tests Locally

```bash
npm run test  # Backend
cd frontend && npm test  # Frontend
cd frontend && npx cypress open  # E2E GUI
```
## ğŸ“‹ Documentation

- [Pre-Deployment Checklist](docs/pre-deployment-checklist.md)
- [Post-Deployment Checklist](docs/post-deployment-checklist.md)
